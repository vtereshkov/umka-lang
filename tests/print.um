import "std.um"

fn test*() {
	printf("%d %v %f %v\n", 7, []int{42, 43}, 6.0, map[str]real{"Hello": 3.14, "World": 1 / 3.0})

	s := sprintf("%d %v %f %v\n", 7, []int{42, 43}, 6.0, map[str]real{"Hello": 3.14, "World": 1 / 3.0})
	printf("%s", s)

	{
		f, err := std::fopen("test.txt", "w")
		std::exitif(err)
		fprintf(f, "%d %v %f %v\n", 7, []int{42, 43}, 6.0, map[str]real{"Hello": 3.14, "World": 1 / 3.0})		
	}

	{
		f, err := std::fopen("test.txt", "rb")
		std::exitif(err)
		chars, err := std::freadall(f)
		std::exitif(err)
		printf("%s", str(chars))		
	}

	a, b := '\xD0', '\xBF'
    printf("%c%c\n", a, b)	
}

fn main() {
	test()
}